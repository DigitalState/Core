services:
    ds_model.event_listener.identitiable:
        class: '%ds_model.event_listener.identitiable.class%'
        arguments:
            - '@security.token_storage'
        tags:
            - { name: doctrine.event_listener, event: prePersist, method: onPrePersist }

    ds_model.event_listener.uuidentifiable:
        class: '%ds_model.event_listener.uuidentifiable.class%'
        tags:
            - { name: doctrine.event_listener, event: prePersist, method: onPrePersist }

    ds_model.event_listener.translatable:
        class: '%ds_model.event_listener.translatable.class%'
        arguments:
            - '@annotation_reader'
        tags:
            - { name: doctrine.event_listener, event: prePersist, method: onPrePersist }
            - { name: doctrine.event_listener, event: preUpdate, method: onPreUpdate }
            - { name: doctrine.event_listener, event: postLoad, method: onPostLoad }

    ds_model.event_listener.localizable:
        class: '%ds_model.event_listener.localizable.class%'
        arguments:
            - '@annotation_reader'
        tags:
            - { name: kernel.event_listener, event: kernel.view, method: onKernelView, priority: 17 }
